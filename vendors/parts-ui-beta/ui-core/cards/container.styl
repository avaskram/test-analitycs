///// card container
$card-indent = $text-indent

card-container()
  margin-bottom $card-indent
  position relative
  border-radius ($card-radius + 1px)
  clear-margin-bottom()

  +child-el(section)
    +first()
      border-radius $card-radius $card-radius 0 0
    +last()
      border-radius 0 0 $card-radius $card-radius
    +first()
      +last()
        border-radius $card-radius

////// bordered card
card-border()
  &--border
    border 1px solid $card-border-color

    +child-el(section)
      &--image
      &--bg
        z-index 2
        margin -1px

    a&
      &:hover
        border-color darken($card-border-color,5)

        &:after
          border-color darken($card-border-color,5)


///// shadow
card-shadow()
  &--shadow
    box-shadow $card-shadow
    a&
      &:hover
        box-shadow $card-shadow-hover


///// rounded card
card-rounded()
  &--rounded
    border-radius $card-radius-rounded
    +child-el(section)
      +first()
        border-radius $card-radius-rounded $card-radius-rounded 0 0
      +last()
        border-radius 0 0 $card-radius-rounded $card-radius-rounded
      +first()
        +last()
          border-radius $card-radius-rounded

    +add-mod(x)
      +child-el(section)
        +first()
          border-radius $card-radius-rounded 0 0 $card-radius-rounded

        +last()
          border-radius 0 $card-radius-rounded $card-radius-rounded 0

        +first()
          +last()
            border-radius $card-radius-rounded

    +media(md)
      border-radius $card-radius-rounded

      +child-el(section)
        +first()
          border-radius $card-radius-rounded $card-radius-rounded 0 0
        +last()
          border-radius 0 0 $card-radius-rounded $card-radius-rounded
        +first()
          +last()
            border-radius $card-radius-rounded

card-stamp()
  &--stamp
    box-shadow $card-shadow inner
    a&
      &:hover
        box-shadow $card-shadow-hover inner

card-contain()
  &--contain
    &
    a&
      flex-col()
      height 100%

////// horizontal orientation
card-x()
  &--x
    &
    a&
      flex-row()
    >
      +child-el(section)
        flex 1
        flex-basis 50%
        width 100%
        border-bottom 0
        border-right 1px solid $card-border-color
        clear-border-right()

        +first()
          border-radius $card-radius 0 0 $card-radius
        +last()
          border-radius 0 $card-radius $card-radius 0
        +first()
          +last()
            border-radius $card-radius



    +add-mod(rounded)
      border-radius $card-radius-rounded
      +child-el(section)
        +first()
          border-radius $card-radius-rounded 0 0 $card-radius-rounded

        +last()
          border-radius 0 $card-radius-rounded $card-radius-rounded 0

        +first()
          +last()
            border-radius $card-radius-rounded

    // +media(md)
    //   &
    //   a&
    //     display block
    //   >
    //     +child-el(section)
    //       flex-basis auto
    //       border-right 0
    //       border-bottom 1px solid $card-border-color
    //       clear-border-bottom()
    //
    //
    //   +add-mod(rounded)
    //     +child-el(section)
    //       +first()
    //         border-radius $card-radius-rounded $card-radius-rounded 0 0
    //
    //       +last()
    //         border-radius 0 0 $card-radius-rounded $card-radius-rounded
    //
    //       +first()
    //         +last()
    //           border-radius $card-radius-rounded

////// corner card
card-corner()
  &--corner
    &,
    &^[0]--x
      border-radius 0
      >
        +child-el(section)
          border-radius 0

          &:first-child
          &:last-child
          &:first-child:last-child
            border-radius 0

////// link card
card-link()
  a&
    display block
    transition border-color .2s ease 0s, box-shadow .5s $quint 0s
    text-color-base()

    &:hover
      +child-el(section)
        &--bg
          &:before
            opacity .45


card-types(types)
  for type in types
    card-{type}()
